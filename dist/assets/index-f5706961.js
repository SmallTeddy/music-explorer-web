import{e as w,u as x,f as g,g as E,r as c,h as S,i as T,j as t,c as V,d as i,a,w as u,E as b,o as y,p as C,b as U,_ as I}from"./index-ebd542a1.js";import{t as B,T as L,u as R,g as F,s as N}from"./index-a24bf647.js";function D(e={}){return B.post({url:`${L}/login`,data:e})}function M(e){typeof e=="function"&&(document.onkeydown=r=>{const l=r||window.event,s=l.code||l.keyCode;(s==="Enter"||s===13)&&e()})}const j=e=>(C("data-v-53165321"),e=e(),U(),e),q={class:"login-main","element-loading-text":"Logging in..."},A={class:"login-form"},O=j(()=>i("div",{class:"logo flex-c flex-align"},null,-1)),P=w({__name:"index",setup(e){const r=R(),l=x(),s=g(!1),n=g({username:"test",password:"1234"});function _(){s.value=!0,F()?m():D().then(o=>{N(o.data.access_token)}).then(()=>{m()}).catch(o=>{b.error(o),s.value=!1})}function m(){s.value=!1,r.SET_USER_INFO({id:1,username:"test",nickname:"测试账号",roles:["admin","test"]}),l.push({path:"/home"})}return E(()=>{M(_)}),(v,o)=>{const p=c("el-input"),f=c("el-form-item"),h=c("el-form"),k=S("loading");return T((y(),V("div",q,[i("div",A,[O,a(h,{model:t(n),"label-position":"left","label-width":"100px"},{default:u(()=>[a(f,{label:"Username："},{default:u(()=>[a(p,{modelValue:t(n).username,"onUpdate:modelValue":o[0]||(o[0]=d=>t(n).username=d)},null,8,["modelValue"])]),_:1}),a(f,{label:"Password："},{default:u(()=>[a(p,{modelValue:t(n).password,"onUpdate:modelValue":o[1]||(o[1]=d=>t(n).password=d),type:"password"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),i("div",{class:"footer-btn flex-c"},[i("button",{class:"login-btn",onClick:_}," login ")])])])),[[k,t(s)]])}}});const G=I(P,[["__scopeId","data-v-53165321"]]);export{G as default};
